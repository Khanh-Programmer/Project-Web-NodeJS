//- Nhúng layouts
extends ../../layouts/default.pug

//- Nhúng mixins 
include ../../mixins/filterStatus.pug 
include ../../mixins/searchProduct.pug
include ../../mixins/pageSplit.pug
include ../../mixins/formChangeMulti.pug 
include ../../mixins/alert.pug 
include ../../mixins/sort.pug 

block head 
     link(rel="stylesheet", href="/admin/css/pageProducts.css")

block main
     .card.mb-3 
          .card-header Danh mục sản phẩm
               .card-body  
                    .row
                         .col-8 
                         .col-4 
                              a(
                                   href=`${prefixAdmin}/products-category/create`
                                   class="btn btn-outline-success"
                              ) Thêm danh mục sản phẩm 
               table(
                         class="table table-hover table-sm"
                         checkbox-multi
                    )
                         thead 
                              tr
                                   th 
                                        input(type='checkbox' name='check-all')
                                   th STT 
                                   th Hình ảnh 
                                   th Tiêu đề
                                   th Vị trí 
                                   th Trạng thái 
                                   th Hành động
                         tbody 
                              each item, index in productsCategory
                                   tr
                                        td 
                                             input(
                                                  type='checkbox', 
                                                  name='id', 
                                                  value=item.id
                                             )
                                        td #{index + 1}
                                        td
                                             img(
                                             src=item.thumbnail
                                             alt=item.title
                                             width='150px'
                                             height='auto'  
                                             ) 
                                        td #{item.title}
                                        td 
                                             input(
                                                  type='number',
                                                  value=item.position, 
                                                  style='width: 60px; text-align: center; border: 1px solid #ccc; border-radius: 4px; background-color: #f8f9fa;',
                                                  min='1',
                                                  name='position'
                                             )
                                        td
                                             if(item.status === 'active')
                                                  a(   
                                                       href="javascript:;"
                                                       data-status = item.status
                                                       data-id = item.id
                                                       button-change-status 
                                                       class = 'badge badge-success') Hoạt động
                                             else if(item.status === 'inactive')
                                                  a(   
                                                       href="javascript:;" 
                                                       data-status = item.status
                                                       data-id = item.id
                                                       button-change-status
                                                       class = 'badge badge-danger') Dừng Hoạt động
                                        td 
                                             a(
                                                  class='btn btn-info' 
                                                  href=`${prefixAdmin}/products-category/detail/${item.id}`
                                                  ) Xem chi tiết
                                             a(
                                                  class='btn btn-warning btn-sm'
                                                  href=`${prefixAdmin}/products-category/edit/${item.id}`
                                                  ) Chỉnh sửa
                                             button(
                                                  class='btn btn-danger btn-sm ml-1'
                                                  data-id = item.id
                                                  button-delete-item
                                                  ) Xóa  
     script(src="/admin/js/product.js")
